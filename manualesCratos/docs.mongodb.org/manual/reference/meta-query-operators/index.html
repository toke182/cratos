<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Meta Query Operators &mdash; MongoDB Manual</title>

    <link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
    <meta name="robots" content="index" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="canonical" href="http://docs.mongodb.org/master/reference/meta-query-operators" />

    
    
    <link rel="stylesheet" href="../../_static/mongodb-docs.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../../about/" />
<link rel="top" title="MongoDB Manual" href="../../" />
<!-- Put the following javascript before the closing </head> tag. -->
<script>
  (function() {
    var cx = '017213726194841070573:WMX6838984';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
  </head>
  <body>
<div id="top-right">
        <div class="user-right">
                <ul id="header-menu-bar" class="ajs-menu-bar">
                <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
                <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
                <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
                <li class="normal"><a href="http://www.mongodb.org/display/DOCS/Drivers">Drivers</a></li>
                <li class="normal"><a href="http://www.mongodb.org/display/DOCS/Events">Events</a></li>
                <li class="normal last"><a class="last" href="http://www.mongodb.org/display/DOCS/International+Documentation">International</a></li>
                </ul>
        </div>
</div>
<div id="header-db" class="spread">
        <div class="split">
                <div id="logo">
                        <div><a href="../../"><img src="../../_static/logo-mongodb.png" width="190" height="55" alt="mongoDB" /></a></div>
                </div>
        </div>
<div class="search-db"><gcse:searchbox></gcse:searchbox></div>
<div id="etp">
<ul>
<li><a href="https://github.com/mongodb/docs/blob/master/source/reference/meta-query-operators.txt" target="_blank" title="Edit reference/meta-query-operators.txt on github">Edit this Page</a></li>
<li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
<li><a href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22reference/meta-query-operators%2Etxt%22" target="_blank" title="Report a problem with reference/meta-query-operators.txt on Jira">Report a problem</a></li>
</ul>
</div>
</div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div id="cse-results"><gcse:searchresults></gcse:searchresults></div>
            
  <div class="section" id="meta-query-operators">
<h1>Meta Query Operators<a class="headerlink" href="#meta-query-operators" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In addition to the <a class="reference internal" href="../operators/"><em>MongoDB Query Operators</em></a>, there are a number of &#8220;meta&#8221; operators that
you can modify the output or behavior of a query. On the server,
MongoDB treats the query and the options as a single object. The
<tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell and driver interfaces may provide <a class="reference internal" href="../javascript/#js-query-cursor-methods"><em>cursor methods</em></a> that wrap these options. When possible, use these
methods; otherwise, you can add these options using either of the
following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="o">&lt;</span><span class="nx">option</span><span class="o">&gt;</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="o">&lt;</span><span class="nx">option</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="modifiers">
<h2>Modifiers<a class="headerlink" href="#modifiers" title="Permalink to this headline">¶</a></h2>
<p>Many of these operators have corresponding <a class="reference internal" href="../javascript/#js-query-cursor-methods"><em>methods in the shell</em></a>. These methods provide a straightforward and
user-friendly interface and are the preferred way to add these options.</p>
<dl class="operator">
<dt id="_S_returnKey">
<tt class="descname">$returnKey</tt><a class="headerlink" href="#_S_returnKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Only return the index key or keys for the results of the query. If
<a class="reference internal" href="../operator/returnKey/#_S_returnKey" title="$returnKey"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$returnKey</span></tt></a> is set to <tt class="docutils literal"><span class="pre">true</span></tt> and the query does not use
an index to perform the read operation, the returned documents will
not contain any fields. Use one of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$returnKey&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="nx">$returnKey</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_maxScan">
<tt class="descname">$maxScan</tt><a class="headerlink" href="#_S_maxScan" title="Permalink to this definition">¶</a></dt>
<dd><p>Constrains the query to only scan the specified number of documents
when fulfilling the query. Use one of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$maxScan&quot;</span> <span class="p">,</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="nx">$maxScan</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Use this modifier to prevent potentially long running queries from
disrupting performance by scanning through too much data.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_showDiskLoc">
<tt class="descname">$showDiskLoc</tt><a class="headerlink" href="#_S_showDiskLoc" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="../operator/showDiskLoc/#_S_showDiskLoc" title="$showDiskLoc"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$showDiskLoc</span></tt></a> option adds a field <tt class="docutils literal"><span class="pre">$diskLoc</span></tt> to the returned
documents. The <tt class="docutils literal"><span class="pre">$diskLoc</span></tt> field contains the disk location
information.</p>
<p>The <tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell provides the <a class="reference internal" href="../method/cursor.showDiskLoc/#cursor.showDiskLoc" title="cursor.showDiskLoc"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.showDiskLoc()</span></tt></a>
method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">showDiskLoc</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also specify the option in either of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span><span class="s2">&quot;$showDiskLoc&quot;</span> <span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="nx">$showDiskLoc</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_comment">
<tt class="descname">$comment</tt><a class="headerlink" href="#_S_comment" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../operator/comment/#_S_comment" title="$comment"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$comment</span></tt></a> makes it possible to attach a comment to a
query. Because these comments propagate to the <a class="reference internal" href="../configuration-options/#profile" title="profile"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">profile</span></tt></a>
log, adding <a class="reference internal" href="../operator/comment/#_S_comment" title="$comment"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$comment</span></tt></a> modifiers can make your profile
data much easier to interpret and trace. Use one of the following
forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$comment&quot;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">comment</span><span class="o">&gt;</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="nx">$comment</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">comment</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_max">
<tt class="descname">$max</tt><a class="headerlink" href="#_S_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a <a class="reference internal" href="../operator/max/#_S_max" title="$max"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$max</span></tt></a> value to specify the <em>exclusive</em> upper
bound for a specific index in order to constrain the results of
<a class="reference internal" href="../method/db.collection.find/#db.collection.find" title="db.collection.find"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></tt></a>. The <tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell
provides the <a class="reference internal" href="../method/cursor.max/#cursor.max" title="cursor.max"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.max()</span></tt></a> wrapper method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">max</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">max</span> <span class="nx">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="nx">fieldN</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">max</span> <span class="nx">valueN</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also specify the option with either of the two forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$max&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">max</span> <span class="nx">value1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="nx">fieldN</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">max</span> <span class="nx">valueN</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="nx">$max</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">max</span> <span class="nx">value1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="nx">fieldN</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">max</span> <span class="nx">valueN</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../operator/max/#_S_max" title="$max"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$max</span></tt></a> specifies the upper bound for <em>all</em> keys of a
specific index <em>in order</em>.</p>
<p>Consider the following operations on a collection named
<tt class="docutils literal"><span class="pre">collection</span></tt> that has an index <tt class="docutils literal"><span class="pre">{</span> <span class="pre">age:</span> <span class="pre">1</span> <span class="pre">}</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">max</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">100</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>This operation limits the query to those documents where the
field <tt class="docutils literal"><span class="pre">age</span></tt> is less than <tt class="docutils literal"><span class="pre">100</span></tt> using the index <tt class="docutils literal"><span class="pre">{</span> <span class="pre">age:</span> <span class="pre">1</span> <span class="pre">}</span></tt>.</p>
<p>You can explicitly specify the corresponding index with
<a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.hint()</span></tt></a>. Otherwise, MongoDB selects the index using
the fields in the <tt class="docutils literal"><span class="pre">indexbounds</span></tt>; however, if multiple indexes
exist on same fields with different sort orders, the selection of
the index may be ambiguous.</p>
<p>Consider a collection named <tt class="docutils literal"><span class="pre">collection</span></tt> that has the following
two indexes:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
<p>Without explicitly using <a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.hint()</span></tt></a>, MongoDB may
select either index for the following operation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;B&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Use <a class="reference internal" href="../operator/max/#_S_max" title="$max"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$max</span></tt></a> alone or in conjunction with <a class="reference internal" href="../operator/min/#_S_min" title="$min"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$min</span></tt></a> to limit
results to a specific range for the <em>same</em> index, as in the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span> <span class="p">}</span> <span class="p">).</span><span class="nx">max</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">25</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Because <a class="reference internal" href="../method/cursor.max/#cursor.max" title="cursor.max"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.max()</span></tt></a> requires an index on a field, and
forces the query to use this index, you may prefer the
<a class="reference internal" href="../operators/#_S_lt" title="$lt"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$lt</span></tt></a> operator for the query if possible. Consider the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">7</span> <span class="p">}</span> <span class="p">).</span><span class="nx">max</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">25</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p class="last">The query uses the index on the <tt class="docutils literal"><span class="pre">age</span></tt> field, even if the
index on <tt class="docutils literal"><span class="pre">_id</span></tt> may be better.</p>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_min">
<tt class="descname">$min</tt><a class="headerlink" href="#_S_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a <a class="reference internal" href="../operator/min/#_S_min" title="$min"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$min</span></tt></a> value to specify the <em>inclusive</em> lower
bound for a specific index in order to constrain the results of
<a class="reference internal" href="../method/db.collection.find/#db.collection.find" title="db.collection.find"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></tt></a>. The <tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell
provides the <a class="reference internal" href="../method/cursor.min/#cursor.min" title="cursor.min"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.min()</span></tt></a> wrapper method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">min</span><span class="p">(</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">min</span> <span class="nx">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="nx">fieldN</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">min</span> <span class="nx">valueN</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also specify the option with either of the two forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$min&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">min</span> <span class="nx">value1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="nx">fieldN</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">min</span> <span class="nx">valueN</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span> <span class="p">},</span> <span class="nx">$min</span><span class="o">:</span> <span class="p">{</span> <span class="nx">field1</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">min</span> <span class="nx">value1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="nx">fieldN</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">min</span> <span class="nx">valueN</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../operator/min/#_S_min" title="$min"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$min</span></tt></a> specifies the lower bound for <em>all</em> keys of a
specific index <em>in order</em>.</p>
<p>Consider the following operations on a collection named
<tt class="docutils literal"><span class="pre">collection</span></tt> that has an index <tt class="docutils literal"><span class="pre">{</span> <span class="pre">age:</span> <span class="pre">1</span> <span class="pre">}</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>These operations limit the query to those documents where the field
<tt class="docutils literal"><span class="pre">age</span></tt> is at least <tt class="docutils literal"><span class="pre">20</span></tt> using the index <tt class="docutils literal"><span class="pre">{</span> <span class="pre">age:</span> <span class="pre">1</span> <span class="pre">}</span></tt>.</p>
<p>You can explicitly specify the corresponding index with
<a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.hint()</span></tt></a>. Otherwise, MongoDB selects the index using
the fields in the <tt class="docutils literal"><span class="pre">indexbounds</span></tt>; however, if multiple indexes
exist on same fields with different sort orders, the selection of
the index may be ambiguous.</p>
<p>Consider a collection named <tt class="docutils literal"><span class="pre">collection</span></tt> that has the following
two indexes:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
<p>Without explicitly using <a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.hint()</span></tt></a>, it is unclear
which index the following operation will select:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;C&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can use <a class="reference internal" href="../operator/min/#_S_min" title="$min"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$min</span></tt></a> in conjunction with <a class="reference internal" href="../operator/max/#_S_max" title="$max"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$max</span></tt></a> to
limit results to a specific range for the <em>same</em> index, as in the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span> <span class="p">}</span> <span class="p">).</span><span class="nx">max</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">25</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Because <a class="reference internal" href="../method/cursor.min/#cursor.min" title="cursor.min"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.min()</span></tt></a> requires an index on a field, and
forces the query to use this index, you may prefer the
<a class="reference internal" href="../operators/#_S_gte" title="$gte"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$gte</span></tt></a> operator for the query if possible. Consider the
following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">7</span> <span class="p">}</span> <span class="p">).</span><span class="nx">min</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">25</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p class="last">The query will use the index on the <tt class="docutils literal"><span class="pre">age</span></tt> field, even if the
index on <tt class="docutils literal"><span class="pre">_id</span></tt> may be better.</p>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_orderby">
<tt class="descname">$orderby</tt><a class="headerlink" href="#_S_orderby" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../operator/orderby/#_S_orderby" title="$orderby"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$orderby</span></tt></a> operator sorts the results of a query in
ascending or descending order.</p>
<p>The <tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell provides the <a class="reference internal" href="../method/cursor.sort/#cursor.sort" title="cursor.sort"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.sort()</span></tt></a>
method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">sort</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also specify the option in either of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$orderby&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">age</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{},</span> <span class="nx">$orderby</span><span class="o">:</span> <span class="p">{</span> <span class="nx">age</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>These examples return all documents in the collection named
<tt class="docutils literal"><span class="pre">collection</span></tt> sorted by the <tt class="docutils literal"><span class="pre">age</span></tt> field in descending order.
Specify a value to <a class="reference internal" href="../operator/orderby/#_S_orderby" title="$orderby"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$orderby</span></tt></a> of negative one (e.g.
<tt class="docutils literal"><span class="pre">-1</span></tt>, as above) to sort in descending order or a positive value
(e.g. <tt class="docutils literal"><span class="pre">1</span></tt>) to sort in ascending order.</p>
<p>Unless you have a index for the specified key pattern, use
<a class="reference internal" href="../operator/orderby/#_S_orderby" title="$orderby"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$orderby</span></tt></a> in conjunction with <a class="reference internal" href="../operator/maxScan/#_S_maxScan" title="$maxScan"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$maxScan</span></tt></a> and/or
<a class="reference internal" href="../method/cursor.limit/#cursor.limit" title="cursor.limit"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.limit()</span></tt></a> to avoid requiring MongoDB to perform a
large in-memory sort. The <a class="reference internal" href="../method/cursor.limit/#cursor.limit" title="cursor.limit"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.limit()</span></tt></a> increases the
speed and reduces the amount of memory required to return this query
by way of an optimized algorithm.</p>
</dd></dl>

<dl class="operator">
<dt id="_S_hint">
<tt class="descname">$hint</tt><a class="headerlink" href="#_S_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../operator/hint/#_S_hint" title="$hint"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$hint</span></tt></a> operator forces the <a class="reference internal" href="../../core/read-operations/#read-operations-query-optimization"><em>query optimizer</em></a> to
use a specific index to fulfill the query.  Use <a class="reference internal" href="../operator/hint/#_S_hint" title="$hint"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$hint</span></tt></a>
for testing query performance and indexing strategies. Consider
the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">hint</span><span class="p">(</span> <span class="p">{</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>This operation returns all documents in the collection named
<tt class="docutils literal"><span class="pre">collection</span></tt> using the index on the <tt class="docutils literal"><span class="pre">age</span></tt> field. Use this
operator to override MongoDB&#8217;s default index selection process and
pick indexes manually.</p>
<p>You can also specify the option in either of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$hint&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">age</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{},</span> <span class="nx">$hint</span><span class="o">:</span> <span class="p">{</span> <span class="nx">age</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_explain">
<tt class="descname">$explain</tt><a class="headerlink" href="#_S_explain" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="../operator/explain/#_S_explain" title="$explain"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$explain</span></tt></a> operator provides information on the query
plan. It returns a <a class="reference internal" href="../explain/"><em>document</em></a> that describes
the process and indexes used to return the query. This may provide
useful insight when attempting to optimize a query.</p>
<p><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell also provides the <a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></tt></a> method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">explain</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also specify the option in either of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$explain&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{},</span> <span class="nx">$explain</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>For details on the output, see <a class="reference internal" href="../explain/"><em>Explain Output</em></a>.</p>
<p><a class="reference internal" href="../operator/explain/#_S_explain" title="$explain"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$explain</span></tt></a> runs the actual query to determine the result.
Although there are some differences between running the query with
<a class="reference internal" href="../operator/explain/#_S_explain" title="$explain"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$explain</span></tt></a> and running without, generally, the performance
will be similar between the two. So, if the query is slow, the
<a class="reference internal" href="../operator/explain/#_S_explain" title="$explain"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$explain</span></tt></a> operation is also slow.</p>
<p>Additionally, the <a class="reference internal" href="../operator/explain/#_S_explain" title="$explain"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$explain</span></tt></a> operation reevaluates a set
of candidate query plans, which may cause the <a class="reference internal" href="../operator/explain/#_S_explain" title="$explain"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$explain</span></tt></a>
operation to perform differently than a normal query. As a result,
these operations generally provide an accurate account of <em>how</em>
MongoDB would perform the query, but do not reflect the length of
these queries.</p>
<p>To determine the performance of a particular index, you can use
<a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">hint()</span></tt></a>  and in conjunction with
<a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></tt></a>, as in the following example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">products</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">hint</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">).</span><span class="nx">explain</span><span class="p">()</span>
</pre></div>
</div>
<p>When you run <a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></tt></a> with
<a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">hint()</span></tt></a>, the query optimizer does not
reevaluate the query plans.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In some situations, the <a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></tt></a>
operation may differ from the actual query plan used by MongoDB
in a normal query.</p>
<p class="last">The <a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></tt></a> operation evaluates
the set of query plans and reports on the winning plan for the
query. In normal operations the query optimizer caches winning
query plans and uses them for similar related queries in the
future.  As a result MongoDB may sometimes select query plans
from the cache that are different from the plan displayed using
<a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></tt></a>.</p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="../method/cursor.explain/#cursor.explain" title="cursor.explain"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.explain()</span></tt></a></li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/Optimization">Optimization</a> wiki page for information regarding
optimization strategies.</li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/Database Profiler">Database Profiler</a> wiki page for information regarding
optimization strategies.</li>
<li><a class="reference internal" href="../current-op/"><em>Current Operation Reporting</em></a></li>
</ul>
</div>
</dd></dl>

<dl class="operator">
<dt id="_S_snapshot">
<tt class="descname">$snapshot</tt><a class="headerlink" href="#_S_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../operator/snapshot/#_S_snapshot" title="$snapshot"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$snapshot</span></tt></a> operator prevents the cursor from
returning a document more than once because an intervening write
operation results in a move of the document.</p>
<p>Even in snapshot mode, objects inserted or deleted during the
lifetime of the cursor may or may not be returned.</p>
<p>The <tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt> shell provides the <a class="reference internal" href="../method/cursor.snapshot/#cursor.snapshot" title="cursor.snapshot"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.snapshot()</span></tt></a>
method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">snapshot</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also specify the option in either of the following forms:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">_addSpecial</span><span class="p">(</span> <span class="s2">&quot;$snapshot&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$query</span><span class="o">:</span> <span class="p">{},</span> <span class="nx">$snapshot</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../operator/snapshot/#_S_snapshot" title="$snapshot"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$snapshot</span></tt></a> operator traverses the index on the
<tt class="docutils literal"><span class="pre">_id</span></tt> field <a class="footnote-reference" href="#snapshot-alternative" id="id1">[1]</a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<ul class="last simple">
<li>You cannot use <a class="reference internal" href="../operator/snapshot/#_S_snapshot" title="$snapshot"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$snapshot</span></tt></a> with <a class="reference internal" href="../glossary/#term-sharding"><em class="xref std std-term">sharded
collections</em></a>.</li>
<li>Do <strong>not</strong> use <a class="reference internal" href="../operator/snapshot/#_S_snapshot" title="$snapshot"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$snapshot</span></tt></a> with <a class="reference internal" href="../operator/hint/#_S_hint" title="$hint"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$hint</span></tt></a> or
<a class="reference internal" href="../operator/orderby/#_S_orderby" title="$orderby"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$orderby</span></tt></a> (or the corresponding
<a class="reference internal" href="../method/cursor.hint/#cursor.hint" title="cursor.hint"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.hint()</span></tt></a> and <a class="reference internal" href="../method/cursor.sort/#cursor.sort" title="cursor.sort"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.sort()</span></tt></a> methods.)</li>
</ul>
</div>
<table class="docutils footnote" frame="void" id="snapshot-alternative" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>You can achieve the
<a class="reference internal" href="../operator/snapshot/#_S_snapshot" title="$snapshot"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$snapshot</span></tt></a> isolation behavior using any <em>unique</em>
index on invariable fields.</td></tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


<div id="btnv">
<ul id="btnvl">
</ul>
</div>
</div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<h3><a href="../../contents/">MongoDB Manual</a>
<small>(<a href="../../genindex/">Index</a>)</small>
</h3>

<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/">About MongoDB Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/">Installing MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../replication/">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sharding/">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crud/">CRUD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aggregation/">Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indexes/">Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications/">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mongo/">Using the MongoDB Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use-cases/">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../">Reference</a></li>
</ul>

<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="/master/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>

<h3>Translations</h3>
<ul class="translation-menu">
  <li><a href="http://jp.docs.mongodb.org/master/reference/meta-query-operators" rel="nofollow">Japanese</a></li>
  <li><a href="http://cn.docs.mongodb.org/master/reference/meta-query-operators" rel="nofollow">Chinese</a></li>
  <!-- <li><a href="http://docs.mongodb.org/master/reference/meta-query-operators" rel="nofollow">English</a></li> -->
</ul>
<h3>Knowledge Base </h3>
<ul class="kb-menu">
  <li><a href="../../tutorial/">Tutorials</a></li>
  <li><a href="../../faq/">Frequently Asked Questions</a></li>
  <li><a href="../../use-cases/">Use Cases</a></li>
</ul><h3>MongoDB Wiki</h3>

<ul>
 <li><strong>Getting Started</strong>
   <ul>
     <!-- <li><a href="http://mongodb.org/display/DOCS/Quickstart">Quickstart</a></li> -->
     <li><a href="http://mongodb.org/display/DOCS/Introduction">Introduction</a></li>
     <li><a href="http://www.mongodb.org/downloads">Downloads</a></li>
     <!-- <li><a href="http://mongodb.org/display/DOCS/SQL+to+Mongo+Mapping+Chart">SQL to MongoDB Mapping</a></li> -->
   </ul>
 </li>
 <li><strong><a href="http://mongodb.org/display/DOCS/Developer+Zone">Developer Documentation</a></strong>
   <!-- <ul> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Connections">Connections</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Databases">Databases</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Collections">Collections</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Documents">Documents</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/GridFS">GridFS</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Indexes">Indexes</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Querying">Querying</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Aggregation">Aggregation</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Optimization">Optimization</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Inserting">Inserting</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Updating">Updating</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Removing">Removing</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/MapReduce">MapReduce</a></li> -->
   <!-- </ul> -->
 </li>
 <li><strong><a href="http://mongodb.org/display/DOCS/Admin+Zone">Administrative Documentation</a></strong>
   <ul>
     <!-- <li><a href="http://mongodb.org/display/DOCS/Components">Components</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Journaling">Journaling</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Production+Notes">Production Notes</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Replication">Replication</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Sharding">Sharding</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Monitoring+and+Diagnostics">Monitoring and Diagnostics</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Backups">Backups</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Durability+and+Repair">Durability and Repair</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Security+and+Authentication">Security and Authentication</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/Starting+and+Stopping+Mongo">Starting/Stopping MongoDB</a></li> -->
     <!-- <li><a href="http://mongodb.org/display/DOCS/GridFS+Tools">GridFS Tools</a></li> -->
     <li><a href="http://mongodb.org/display/DOCS/DBA+Operations+from+the+Shell">DB Operations from the Shell</a></li>
     <!-- <li><a href="http://mongodb.org/display/DOCS/Architecture+and+Components">Architecture and Components</a></li> -->
     <li><a href="http://mongodb.org/display/DOCS/Windows">Windows</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Troubleshooting">Troubleshooting</a></li>
   </ul>
 </li>
 <li><strong><a href="http://www.mongodb.org/display/DOCS/Community">Community and Ecosystem</a></strong>
   <ul>
     <li><a href="http://10gen.com">10gen</a></li>
     <li><a href="http://www.mongodb.org/events">MongoDB Events</a></li>
     <li><a href="http://planet.mongodb.org">Planet MongoDB</a></li>
     <li><a href="http://mongodb.org/display/DOCS/MongoDB+Masters">MongoDB Masters</a></li>
     <li><a href="http://mongodb.org/display/DOCS/Slides+and+Video">Slides and Video</a></li>
     <!-- <li><a href="http://cookbook.mongodb.org/">Cookbook</a></li> -->
     <li><a href="http://mongodb.org/display/DOCS/Hosting+Center">Hosting Center</a></li>
     <li><a href="http://mms.10gen.com/">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
     <li><a href="http://mongodb.org/display/DOCS/Admin+UIs">Administrative Interfaces</a></li>
     <!-- <li><a href="http://mongodb.org/display/DOCS/International+Docs">International Documentation</a></li> -->
     <li><a href="http://10gen.com/books/">MongoDB Books</a></li>
   </ul>
 </li>
 <li><strong><a href="http://www.mongodb.org/display/DOCS/Drivers">Drivers</a></strong>
   <ul>
     <li>JavaScript (<a href="http://mongodb.org/display/DOCS/Javascript+Language+Center">wiki</a>, <a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li>Python (<a href="http://mongodb.org/display/DOCS/Python+Language+Center">wiki</a>, <a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li>Ruby (<a href="http://mongodb.org/display/DOCS/Ruby+Language+Center">wiki</a>, <a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li>PHP (<a href="http://mongodb.org/display/DOCS/PHP+Language+Center">wiki</a>, <a href="http://php.net/mongo/">docs</a>)</li>
     <li>Perl (<a href="http://mongodb.org/display/DOCS/Perl+Language+Center">wiki</a>, <a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li>Java (<a href="http://mongodb.org/display/DOCS/Java+Language+Center">wiki</a>, <a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li>Scala (<a href="http://mongodb.org/display/DOCS/Scala+Language+Center">wiki</a>, <a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
     <li>C# (<a href="http://mongodb.org/display/DOCS/CSharp+Language+Center">wiki</a>, <a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li>C (<a href="http://mongodb.org/display/DOCS/C+Language+Center">wiki</a>, <a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li>C++ (<a href="http://mongodb.org/pages/viewpage.action?pageId=133409">wiki</a>, <a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li>Haskell (<a href="http://mongodb.org/display/DOCS/Haskell+Language+Center">wiki</a>, <a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li>Erlang (<a href="http://mongodb.org/display/DOCS/Erlang+Language+Center">wiki</a>, <a href="http://api.mongodb.org/erlang">docs</a>)</li>
   </ul>
 </li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
        &copy; Copyright 2011-2012, 10gen, Inc.  Licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons</a>.

    <p>MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of 10gen, Inc.</p>
    <p>The MongoDB Documentation Project uses <a href="https://github.com/mongodb/docs">GitHub</a>. Fork the repository and submit pull requests to contribute.</p>
    <p>If you find any issues with the documentation feel free to open a <a href="http://jira.mongodb.org/browse/DOCS">Jira Case</a> and we'll work to resolve it promptly.</p>

  </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-8']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script>
  </body>
</html>